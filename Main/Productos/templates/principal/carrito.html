{% extends "base.html" %}
{% load static %}

{% block titulo %} Carro {% endblock %}
{% block contenido %}
<link rel="stylesheet" href="{% static 'css/carrito.css' %}?v=1">

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div class="card">
    <div class="row">
        <div class="col-md-8 cart">
    {% if carrito.productos.all %}
        <h2 class="titulo">Carrito de Compras</h2>
        <ul class="lista-carrito">
            {% for detalle in carrito.detallecarrito_set.all %}
                <li class="item-carrito">
                    <span class="nombre">{{ detalle.producto.nombre }}</span>
                    <form action="{% url 'aumentar_cantidad' detalle.id %}" method="post" class="cantidad-form">
                        {% csrf_token %}
                        <button type="submit" class="boton-agregar">+</button>
                    </form>
                    <span class="cantidad">Cantidad: {{ detalle.cantidad }}</span>
                    <form action="{% url 'disminuir_cantidad' detalle.id %}" method="post" class="cantidad-form">
                        {% csrf_token %}
                        <button type="submit" class="boton-disminuir">-</button>
                    </form>
                    <span class="precio-unitario">Precio Unitario: ${{ detalle.producto.precio }}</span>
                    <form action="{% url 'eliminar_del_carrito' detalle.producto.id %}" method="post" class="eliminar-form">
                        {% csrf_token %}
                        <button type="submit" class="boton-eliminar">Eliminar del Carrito</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
        <p class="total">Total: ${{ carrito.total }}</p>
        <a href="{% url 'eliminar_carrito' %}" class="boton-vaciar">Vaciar Carrito</a>
    {% else %}
        <p class="mensaje-vacio">El carrito está vacío.</p>
    {% endif %}
</div>
</div>
</div>



<br>

<!-- <div class="card">
    <div class="row">
        <div class="col-md-8 cart">
            <div class="title">
                <div class="row">
                    <div class="col"><h4><b>Shopping Cart</b></h4></div>
                    <div class="col align-self-center text-right text-muted">3 items</div>
                </div>
            </div>    
            <div class="row border-top border-bottom">
                <div class="row main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="https://i.imgur.com/1GrakTl.jpg"></div>
                    <div class="col">
                        <div class="row text-muted">Shirt</div>
                        <div class="row">Cotton T-shirt</div>
                    </div>
                    <div class="col">
                        <a href="#">-</a><a href="#" class="border">1</a><a href="#">+</a>
                    </div>
                    <div class="col">&euro; 44.00 <span class="close">&#10005;</span></div>
                </div>
            </div>
            <div class="row">
                <div class="row main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="https://i.imgur.com/ba3tvGm.jpg"></div>
                    <div class="col">
                        <div class="row text-muted">Shirt</div>
                        <div class="row">Cotton T-shirt</div>
                    </div>
                    <div class="col">
                        <a href="#">-</a><a href="#" class="border">1</a><a href="#">+</a>
                    </div>
                    <div class="col">&euro; 44.00 <span class="close">&#10005;</span></div>
                </div>
            </div>
            <div class="row border-top border-bottom">
                <div class="row main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="https://i.imgur.com/pHQ3xT3.jpg"></div>
                    <div class="col">
                        <div class="row text-muted">Shirt</div>
                        <div class="row">Cotton T-shirt</div>
                    </div>
                    <div class="col">
                        <a href="#">-</a><a href="#" class="border">1</a><a href="#">+</a>
                    </div>
                    <div class="col">&euro; 44.00 <span class="close">&#10005;</span></div>
                </div>
            </div>
            <div class="back-to-shop"><a href="#">&leftarrow;</a><span class="text-muted">Back to shop</span></div>
        </div>
        <div class="col-md-4 summary">
            <div><h5><b>Summary</b></h5></div>
            <hr>
            <div class="row">
                <div class="col" style="padding-left:0;">ITEMS 3</div>
                <div class="col text-right">&euro; 132.00</div>
            </div>
            <form>
                <p>SHIPPING</p>
                <select><option class="text-muted">Standard-Delivery- &euro;5.00</option></select>
                <p>GIVE CODE</p>
                <input id="code" placeholder="Enter your code">
            </form>
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">TOTAL PRICE</div>
                <div class="col text-right">&euro; 137.00</div>
            </div>
            <button class="btn">CHECKOUT</button>
        </div>
    </div>
    
</div> -->

{% endblock %}